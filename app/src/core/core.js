(function(_0x2502c3,_0xfab7a1){const _0x4ebd82=a2_0x3964,_0x3cbb40=_0x2502c3();while(!![]){try{const _0x20eddd=-parseInt(_0x4ebd82(0x1b0,'*fLj'))/0x1*(-parseInt(_0x4ebd82(0x1c0,'AXE7'))/0x2)+-parseInt(_0x4ebd82(0x1c5,'ZWvH'))/0x3+-parseInt(_0x4ebd82(0x1af,'0ES%'))/0x4+parseInt(_0x4ebd82(0x1ca,'JR9N'))/0x5+parseInt(_0x4ebd82(0x1b1,'zmy2'))/0x6*(parseInt(_0x4ebd82(0x1b4,'*fLj'))/0x7)+parseInt(_0x4ebd82(0x1c9,'jsi0'))/0x8+-parseInt(_0x4ebd82(0x1c7,'g(Up'))/0x9;if(_0x20eddd===_0xfab7a1)break;else _0x3cbb40['push'](_0x3cbb40['shift']());}catch(_0x216ede){_0x3cbb40['push'](_0x3cbb40['shift']());}}}(a2_0x500b,0xcf388));const a2_0x2e739f=(function(){let _0x5d6149=!![];return function(_0x5ac8db,_0xcb2528){const _0x17d749=_0x5d6149?function(){if(_0xcb2528){const _0x17eae4=_0xcb2528['apply'](_0x5ac8db,arguments);return _0xcb2528=null,_0x17eae4;}}:function(){};return _0x5d6149=![],_0x17d749;};}()),a2_0x523b6f=a2_0x2e739f(this,function(){const _0x572813=a2_0x3964;return a2_0x523b6f[_0x572813(0x1b3,'Y0iG')]()['search']('(((.+)+)+)+$')['toString']()['constructor'](a2_0x523b6f)['search']('(((.+)+)+)+$');});a2_0x523b6f();const a2_0x4d996e=(function(){let _0x7ad9e=!![];return function(_0x44e2a1,_0x1a2084){const _0x300558={'Oehxn':function(_0x59cd9c,_0x3a4cf2){return _0x59cd9c!==_0x3a4cf2;},'QCjJo':'MKbFC'},_0x4fa350=_0x7ad9e?function(){const _0x45abb4=a2_0x3964;if(_0x1a2084){if(_0x300558['Oehxn']('MKbFC',_0x300558[_0x45abb4(0x1b8,'JR9N')])){const _0x31696d=_0x33517f['apply'](_0x4ff077,arguments);return _0x3236de=null,_0x31696d;}else{const _0x5e80f0=_0x1a2084['apply'](_0x44e2a1,arguments);return _0x1a2084=null,_0x5e80f0;}}}:function(){};return _0x7ad9e=![],_0x4fa350;};}()),a2_0xa89c1e=a2_0x4d996e(this,function(){const _0x8a3656=a2_0x3964,_0x4de72d={'ZcByQ':function(_0x465bc5,_0x6c5c88){return _0x465bc5(_0x6c5c88);},'HUwTf':function(_0xf28392,_0x28e13e){return _0xf28392+_0x28e13e;},'ewGWo':function(_0x4a28a5,_0x3327b8){return _0x4a28a5+_0x3327b8;},'GRTKn':'return\x20(function()\x20','vwkee':'{}.constructor(\x22return\x20this\x22)(\x20)','DnEmO':function(_0x6d4f9a){return _0x6d4f9a();},'lPlvX':'log','iHwIQ':_0x8a3656(0x1be,'3q6C'),'kMKDk':'table','DIlOh':_0x8a3656(0x1bb,')nTi'),'iwHDZ':function(_0x5afedd,_0x144ee7){return _0x5afedd<_0x144ee7;}},_0xf8bd5=function(){let _0x4fc7ae;try{_0x4fc7ae=_0x4de72d['ZcByQ'](Function,_0x4de72d['HUwTf'](_0x4de72d['ewGWo'](_0x4de72d['GRTKn'],_0x4de72d['vwkee']),');'))();}catch(_0x5cdc5c){_0x4fc7ae=window;}return _0x4fc7ae;},_0x29985f=_0x4de72d['DnEmO'](_0xf8bd5),_0x2db693=_0x29985f['console']=_0x29985f['console']||{},_0x56ece4=[_0x4de72d[_0x8a3656(0x1c1,'u7#a')],_0x8a3656(0x1b6,'*fLj'),_0x4de72d[_0x8a3656(0x1c2,'6%0v')],'error','exception',_0x4de72d['kMKDk'],_0x4de72d['DIlOh']];for(let _0x10fbfd=0x0;_0x4de72d['iwHDZ'](_0x10fbfd,_0x56ece4['length']);_0x10fbfd++){const _0xf7862=a2_0x4d996e['constructor']['prototype']['bind'](a2_0x4d996e),_0x59bef1=_0x56ece4[_0x10fbfd],_0x740c7e=_0x2db693[_0x59bef1]||_0xf7862;_0xf7862['__proto__']=a2_0x4d996e['bind'](a2_0x4d996e),_0xf7862['toString']=_0x740c7e['toString'][_0x8a3656(0x1bf,'3MsX')](_0x740c7e),_0x2db693[_0x59bef1]=_0xf7862;}});a2_0xa89c1e();import{HttpsProxyAgent}from'https-proxy-agent';import{SocksProxyAgent}from'socks-proxy-agent';function a2_0x3964(_0x4827c4,_0x4cb636){const _0x4ebd7f=a2_0x500b();return a2_0x3964=function(_0xa89c1e,_0x4d996e){_0xa89c1e=_0xa89c1e-0x1af;let _0x3ad0d8=_0x4ebd7f[_0xa89c1e];if(a2_0x3964['bYeurN']===undefined){var _0x4ab873=function(_0x518a3c){const _0x596434='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x314aaf='',_0x3e883c='',_0x327cb4=_0x314aaf+_0x4ab873;for(let _0x4613d7=0x0,_0x29b8b1,_0x210b81,_0x23e6d1=0x0;_0x210b81=_0x518a3c['charAt'](_0x23e6d1++);~_0x210b81&&(_0x29b8b1=_0x4613d7%0x4?_0x29b8b1*0x40+_0x210b81:_0x210b81,_0x4613d7++%0x4)?_0x314aaf+=_0x327cb4['charCodeAt'](_0x23e6d1+0xa)-0xa!==0x0?String['fromCharCode'](0xff&_0x29b8b1>>(-0x2*_0x4613d7&0x6)):_0x4613d7:0x0){_0x210b81=_0x596434['indexOf'](_0x210b81);}for(let _0x5ba0a4=0x0,_0x5db041=_0x314aaf['length'];_0x5ba0a4<_0x5db041;_0x5ba0a4++){_0x3e883c+='%'+('00'+_0x314aaf['charCodeAt'](_0x5ba0a4)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x3e883c);};const _0x3964ea=function(_0x390e2e,_0x1d4d26){let _0x2f4afa=[],_0x5961b5=0x0,_0x57856c,_0x401a23='';_0x390e2e=_0x4ab873(_0x390e2e);let _0x52057c;for(_0x52057c=0x0;_0x52057c<0x100;_0x52057c++){_0x2f4afa[_0x52057c]=_0x52057c;}for(_0x52057c=0x0;_0x52057c<0x100;_0x52057c++){_0x5961b5=(_0x5961b5+_0x2f4afa[_0x52057c]+_0x1d4d26['charCodeAt'](_0x52057c%_0x1d4d26['length']))%0x100,_0x57856c=_0x2f4afa[_0x52057c],_0x2f4afa[_0x52057c]=_0x2f4afa[_0x5961b5],_0x2f4afa[_0x5961b5]=_0x57856c;}_0x52057c=0x0,_0x5961b5=0x0;for(let _0x5053a8=0x0;_0x5053a8<_0x390e2e['length'];_0x5053a8++){_0x52057c=(_0x52057c+0x1)%0x100,_0x5961b5=(_0x5961b5+_0x2f4afa[_0x52057c])%0x100,_0x57856c=_0x2f4afa[_0x52057c],_0x2f4afa[_0x52057c]=_0x2f4afa[_0x5961b5],_0x2f4afa[_0x5961b5]=_0x57856c,_0x401a23+=String['fromCharCode'](_0x390e2e['charCodeAt'](_0x5053a8)^_0x2f4afa[(_0x2f4afa[_0x52057c]+_0x2f4afa[_0x5961b5])%0x100]);}return _0x401a23;};a2_0x3964['EIEqXK']=_0x3964ea,_0x4827c4=arguments,a2_0x3964['bYeurN']=!![];}const _0x523b6f=_0x4ebd7f[0x0],_0x2e739f=_0xa89c1e+_0x523b6f,_0x500b54=_0x4827c4[_0x2e739f];if(!_0x500b54){if(a2_0x3964['FgwIwT']===undefined){const _0x11f295=function(_0x4c6bf3){this['awXPuI']=_0x4c6bf3,this['sZhTOq']=[0x1,0x0,0x0],this['WuarYx']=function(){return'newState';},this['HcRsLP']='\x5cw+\x20*\x5c(\x5c)\x20*{\x5cw+\x20*',this['DOcdLN']='[\x27|\x22].+[\x27|\x22];?\x20*}';};_0x11f295['prototype']['lGxicI']=function(){const _0x27a8cf=new RegExp(this['HcRsLP']+this['DOcdLN']),_0x13a134=_0x27a8cf['test'](this['WuarYx']['toString']())?--this['sZhTOq'][0x1]:--this['sZhTOq'][0x0];return this['xFyizm'](_0x13a134);},_0x11f295['prototype']['xFyizm']=function(_0x1659eb){if(!Boolean(~_0x1659eb))return _0x1659eb;return this['MNHKgs'](this['awXPuI']);},_0x11f295['prototype']['MNHKgs']=function(_0x4041b9){for(let _0x384d35=0x0,_0x3f560e=this['sZhTOq']['length'];_0x384d35<_0x3f560e;_0x384d35++){this['sZhTOq']['push'](Math['round'](Math['random']())),_0x3f560e=this['sZhTOq']['length'];}return _0x4041b9(this['sZhTOq'][0x0]);},new _0x11f295(a2_0x3964)['lGxicI'](),a2_0x3964['FgwIwT']=!![];}_0x3ad0d8=a2_0x3964['EIEqXK'](_0x3ad0d8,_0x4d996e),_0x4827c4[_0x2e739f]=_0x3ad0d8;}else _0x3ad0d8=_0x500b54;return _0x3ad0d8;},a2_0x3964(_0x4827c4,_0x4cb636);}import{Helper}from'../utils/helper.js';import{API}from'./api/api.js';import a2_0x163daf from'../utils/logger.js';function a2_0x500b(){const _0x5c9649=['WPJdMsTpWRO','bSoyW6fNW7K','aHHBW6JdUG','W7ZdIdbeeq','pNWeeCoksCkQW6qK','l8ovW6pdSq','W6hdN8oiWRC','W5DOW5VcJ8kXWOmVcdzqWQe','W7RdHxnTW6K','W4JcHCoYuCoR','pweiaSow','W5VdTgC7W4njW5HRWR1CprHhW71ngSk6hSomW4jsWRZdK8oUWOPRWRC2mCkng0KYB8osWPpcISoyWOJcGGLeW5JcVMddRdv/WRRcTGeaWO/dNcRdM8kbW5FdQ8ofySkFWQXvyW','vSkxW7mQFSkJCmkJmmo2k3n5','hSoSW7xcUSkZ','axnpW6BdOmkIWO0CW5jBW68IWQ3dNq','pY0WjwG','WP0aeqPJW6JcKSoBuZ5Elq','lc/dR3i3WO7cGxldOxOpWQJcOW','W5bqrfm','fsxdM8o+W6yekw3cIHDQ','EtWCCSoQWOGPuHuJW7RcLZJcKmoUp8kjW44','oM1gjCotWQWaDXqF','W4NcIhmzW7f4lXzfW582aW','nJivhLTJfr4','ASkVWPRcOCoulWGFjmoWWOm','W4tdU8ogWOG','k8kmcSoJW7tcLZX3','mdDvvMzCcHPhhG','WPtdIdnE','DMiEaa','W5LfWR7cIIFcR1XQktLFWRG','sLJcSqTQ'];a2_0x500b=function(){return _0x5c9649;};return a2_0x500b();}import a2_0x4843b9 from'ws';export default class Core extends API{constructor(_0x3967bc,_0x353f54){super('https://ikknngrgxuxgjhplbpey.supabase.co',_0x353f54),this['acc']=_0x3967bc,this['socket']=null,this['wssReconnectAttempts']=0x0,this['maxwssReconnectAttempts']=0x5,this['pingInterval']=0x0,this['point']={'pointsToday':0x0,'pointsTotal':0x0},this['pingCount']=0x0;}async['login'](){const _0x132cda={'XaMUO':function(_0x49917c,_0x1c8759){return _0x49917c==_0x1c8759;}};await Helper['delay'](0x3e8,this['acc'],'Try\x20to\x20login...',this);const _0x3862c9=await this['fetch']('/auth/v1/token?grant_type=password','POST',undefined,{'email':this['acc']['email'],'password':this['acc']['password'],'gotrue_meta_security':{}});_0x132cda['XaMUO'](_0x3862c9['status'],0xc8)?(this['token']=_0x3862c9['access_token'],this['refreshToken']=_0x3862c9['refresh_token'],this['user']=_0x3862c9['user']):this['handleError'](_0x3862c9);}async['getUser'](){const _0x544bc0=a2_0x3964,_0x414d8b={'dhWGW':'GET'};await Helper['delay'](0x3e8,this['acc'],'Getting\x20User\x20Information...',this);const _0x435865=await this['fetch']('/auth/v1/user',_0x414d8b['dhWGW'],this['token']);_0x435865['status']==0xc8?this[_0x544bc0(0x1b2,')kLi')]=_0x435865:this['handleError'](_0x435865);}async['connectWebSocket'](){const _0x134cc3=a2_0x3964,_0x32d37d={'loXGL':'WebSocket\x20connection\x20closed\x20cleanly.','jwdxG':'WebSocket\x20connection\x20closed\x20unexpectedly.','tfXJF':function(_0x33ff6c,_0x445f47){return _0x33ff6c!==_0x445f47;},'nYdUc':'FAHwa'};let _0x59cbf8;if(this['proxy']){if(_0x32d37d['tfXJF'](_0x32d37d['nYdUc'],_0x32d37d['nYdUc']))this[_0x134cc3(0x1cc,'RzF&')](_0x528135);else{if(this['proxy']['startsWith'](_0x134cc3(0x1b5,'0ES%')))_0x59cbf8=new HttpsProxyAgent(this['proxy']);if(this[_0x134cc3(0x1c3,'si5^')]['startsWith']('socks'))_0x59cbf8=new SocksProxyAgent(this['proxy']);}}this[_0x134cc3(0x1bd,'si5^')]='wss://secure.ws.teneo.pro/websocket?userId='+this['user']['id']+'&version=v0.2',this['socket']=new a2_0x4843b9(this['socketURL'],{'agent':_0x59cbf8}),this['socket']['onopen']=async()=>{const _0x4c9475=_0x134cc3;await Helper[_0x4c9475(0x1b9,'0ES%')](0x1f4,this['acc'],'WebSocket\x20connection\x20opened.',this),this['wssReconnectAttempts']=0x0;},this['socket']['onmessage']=async _0xeb57f4=>{const _0x4825c6=JSON['parse'](_0xeb57f4['data']);a2_0x163daf['info'](_0xeb57f4['data']),await Helper['delay'](0x7d0,this['acc'],'Received\x20message:\x20'+_0x4825c6['message'],this),_0x4825c6['pointsToday']&&(this['point']={'pointsToday':_0x4825c6['pointsToday'],'pointsTotal':_0x4825c6['pointsTotal']},await Helper['delay'](0x3e8,this['acc'],'User\x20Point\x20Updated',this)),this['startPing']();},this['socket']['onerror']=async _0xffa527=>{await Helper['delay'](0x1f4,this['acc'],'WebSocket\x20error:\x20'+_0xffa527,this);},this['socket']['onclose']=async _0x3b9915=>{const _0x3c5dfa=_0x134cc3;_0x3b9915['wasClean']?await Helper['delay'](0x1f4,this['acc'],_0x32d37d[_0x3c5dfa(0x1bc,'6Qwb')],this):await Helper['delay'](0x1f4,this['acc'],_0x32d37d['jwdxG'],this),await this['stopPing'](),await this[_0x3c5dfa(0x1cd,'fSgx')]();};}async['reconnectWebSocket'](){const _0x5ee913=a2_0x3964,_0x23b422={'biWQz':function(_0x512363,_0x4355b0){return _0x512363<_0x4355b0;},'akbFs':function(_0x254701,_0x55b888){return _0x254701*_0x55b888;}};if(_0x23b422['biWQz'](this['wssReconnectAttempts'],this['maxwssReconnectAttempts'])){this['wssReconnectAttempts']+=0x1;const _0x82a239=Math['min'](0x1388,_0x23b422['akbFs'](0x3e8,this['wssReconnectAttempts']));Helper['delay'](_0x82a239,this['acc'],'Attempting\x20to\x20reconnect\x20(#'+this['wssReconnectAttempts']+')...',this)[_0x5ee913(0x1cb,'jsi0')](()=>this['connectWebSocket']());}else Helper[_0x5ee913(0x1c6,'IP#0')](0x3e8,this['acc'],'Max\x20reconnect\x20attempts\x20reached.\x20Could\x20not\x20reconnect\x20to\x20WebSocket.',this);}async['sendPing'](){const _0x16f1c2={'lvasF':'PING'};this['pingCount']=this['pingCount']+0x1,await Helper['delay'](0x0,this['acc'],'Sending\x20PING\x20'+this['pingCount'],this),this['socket']['send'](JSON['stringify']({'type':_0x16f1c2['lvasF']})),await Helper['delay'](0x2710,this['acc'],'PING\x20'+this['pingCount']+'\x20Sended',this);}async['startPing'](){const _0x1036f4=a2_0x3964,_0x2c988b={'zhxUw':function(_0x3cdbf9,_0x4cfb38){return _0x3cdbf9===_0x4cfb38;},'NCOEy':'jrNqV'};!this['pingInterval']&&(_0x2c988b['zhxUw'](_0x2c988b['NCOEy'],_0x1036f4(0x1ba,'yVkx'))?(await Helper[_0x1036f4(0x1c8,'MRcw')](0x0,this['acc'],'Starting\x20PING\x20interval,\x20Ping\x20will\x20be\x20send\x20every\x2010\x20Seconds',this),this['pingInterval']=setInterval(async()=>{this['socket']&&_0x2c988b['zhxUw'](this['socket']['readyState'],a2_0x4843b9['OPEN'])&&await this['sendPing']();},0x2710)):_0x1213ea['delay'](0x3e8,this['acc'],_0x1036f4(0x1c4,'u7#a'),this));}async['stopPing'](){const _0x544725=a2_0x3964;this['pingInterval']&&(clearInterval(this[_0x544725(0x1b7,'TV&^')]),this['pingInterval']=null);}async['handleError'](_0x20c51a){throw _0x20c51a;}}